import{u as y}from"./C7HUDyTz.js";import{u as E}from"./B0odRWjR.js";import{r as a,o as v,L as h,X as k,I as A,d as T,e as q,h as w,Q as s,f as m,B as l,aa as B}from"./BDkesJ-x.js";import"./BbfgnpIe.js";const _={__name:"ScriptStripePricingTable",props:{trigger:{type:[String,Array,Boolean],required:!1,default:"visible"},publishableKey:{type:String,required:!0},pricingTableId:{type:String,required:!0},clientReferenceId:{type:String,required:!1},customerEmail:{type:String,required:!1},customerSessionClientSecret:{type:String,required:!1}},emits:["ready","error"],setup(d,{emit:g}){const r=d,c=g,o=a(),f=a(),n=y({trigger:r.trigger,el:o}),u=E("https://js.stripe.com/v3/pricing-table.js",{trigger:n}),{onLoaded:b,status:i}=u,p=a();v(()=>{b(()=>{const e=window.customElements.get("stripe-pricing-table"),t=new e;t.setAttribute("publishable-key",r.publishableKey),t.setAttribute("pricing-table-id",r.pricingTableId),r.clientReferenceId&&t.setAttribute("client-reference-id",r.clientReferenceId),r.customerEmail&&t.setAttribute("customer-email",r.customerEmail),r.customerSessionClientSecret&&t.setAttribute("customer-session-client-secret",r.customerSessionClientSecret),p.value=t,o.value.appendChild(t),c("ready",u)}),h(i,e=>{e==="error"&&c("error")})}),k(()=>{var e;(e=p.value)==null||e.remove()});const S=A(()=>({...n instanceof Promise?n.ssrAttrs||{}:{}}));return(e,t)=>(q(),T("div",B({ref_key:"rootEl",ref:o},S.value),[w("div",{ref_key:"containerEl",ref:f},null,512),l(i)==="loading"?s(e.$slots,"loading",{key:0}):m("",!0),l(i)==="awaitingLoad"?s(e.$slots,"awaitingLoad",{key:1}):l(i)==="error"?s(e.$slots,"error",{key:2}):m("",!0),s(e.$slots,"default")],16))}};export{_ as default};
