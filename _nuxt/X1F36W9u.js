const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./LnnR30ri.js","./OliqtZB5.js","./entry.DKWNj0qK.css","./BKxfr28k.js"])))=>i.map(i=>d[i]);
import{d,e as c,F as f,A as g,G as m,f as p,w as _,h as S,t as N,D as b,U as w,V as E,b as C}from"./OliqtZB5.js";import{t as A,f as T}from"./BKxfr28k.js";const x={class:"mb-6"},B={key:1,class:"mx-1 text-gray-400 text-sm"},U={__name:"BreadCrumb",props:{crumbs:{type:Array,required:!0}},setup(o){return(i,t)=>{const r=b;return c(),d("div",x,[(c(!0),d(f,null,g(o.crumbs,(n,e)=>(c(),d(f,{key:n.title},[n!=null&&n.title&&(n!=null&&n.url)?(c(),m(r,{key:0,to:n.url,class:"inline-flex items-center text-xs gap-0.5 hover:underline"},{default:_(()=>[S("span",null,N(n.title),1)]),_:2},1032,["to"])):p("",!0),e<o.crumbs.length-1?(c(),d("span",B,"/")):p("",!0)],64))),128))])}}},h=(o,i)=>{const t=o._conditions;return t.length>0?`(${t.join(` ${i} `)})`:""},y=o=>{const i=[],t={_conditions:i,where(r,n,e){let s;switch(n.toUpperCase()){case"IN":case"NOT IN":if(Array.isArray(e)){const a=e.map(u=>l(u)).join(", ");s=`"${String(r)}" ${n.toUpperCase()} (${a})`}else throw new TypeError(`Value for ${n} must be an array`);break;case"BETWEEN":case"NOT BETWEEN":if(Array.isArray(e)&&e.length===2)s=`"${String(r)}" ${n.toUpperCase()} ${l(e[0])} AND ${l(e[1])}`;else throw new Error(`Value for ${n} must be an array with two elements`);break;case"IS NULL":case"IS NOT NULL":s=`"${String(r)}" ${n.toUpperCase()}`;break;case"LIKE":case"NOT LIKE":s=`"${String(r)}" ${n.toUpperCase()} ${l(e)}`;break;default:s=`"${String(r)}" ${n} ${l(typeof e=="boolean"?Number(e):e)}`}return i.push(`${s}`),t},andWhere(r){const n=r(y());return i.push(h(n,"AND")),t},orWhere(r){const n=r(y());return i.push(h(n,"OR")),t}};return t},I=(o,i)=>{const t={conditions:[],selectedFields:[],offset:0,limit:0,orderBy:[],count:{field:"",distinct:!1}},r={__params:t,andWhere(e){const s=e(y());return t.conditions.push(h(s,"AND")),r},orWhere(e){const s=e(y());return t.conditions.push(h(s,"OR")),r},path(e){return r.where("path","=",w(e))},skip(e){return t.offset=e,r},where(e,s,a){return r.andWhere(u=>u.where(String(e),s,a)),r},limit(e){return t.limit=e,r},select(...e){return e.length&&t.selectedFields.push(...e),r},order(e,s){return t.orderBy.push(`"${String(e)}" ${s}`),r},async all(){return i(o,n()).then(e=>e||[])},async first(){return i(o,n({limit:1})).then(e=>e[0]||null)},async count(e="*",s=!1){return i(o,n({count:{field:String(e),distinct:s}})).then(a=>a[0].count)}};function n(e={}){let s="SELECT ";if(e!=null&&e.count)s+=`COUNT(${e.count.distinct?"DISTINCT ":""}${e.count.field}) as count`;else{const u=Array.from(new Set(t.selectedFields));s+=u.length>0?u.map($=>`"${String($)}"`).join(", "):"*"}s+=` FROM ${A[String(o)]}`,t.conditions.length>0&&(s+=` WHERE ${t.conditions.join(" AND ")}`),t.orderBy.length>0?s+=` ORDER BY ${t.orderBy.join(", ")}`:s+=" ORDER BY stem ASC";const a=(e==null?void 0:e.limit)||t.limit;return a>0&&(t.offset>0?s+=` LIMIT ${a} OFFSET ${t.offset}`:s+=` LIMIT ${a}`),s}return r};function l(o){return`'${String(o).replace(/'/g,"''")}'`}const W=o=>{var t,r;const i=(r=(t=E())==null?void 0:t.ssrContext)==null?void 0:r.event;return I(o,(n,e)=>k(i,n,e))};async function k(o,i,t){return window.WebAssembly?L(i,t):T(o,String(i),t)}async function L(o,i){return await C(()=>import("./LnnR30ri.js"),__vite__mapDeps([0,1,2,3]),import.meta.url).then(r=>r.loadDatabaseAdapter(o)).then(r=>r.all(i))}export{U as _,W as q};
