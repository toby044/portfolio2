import{r as u,o as g,I as f,X as v,d as y,e as b,Q as n,f as S,aa as k,aq as A}from"./BKieBgHS.js";import{u as E}from"./CU2ONPTF.js";const d="_carbonads_js",q={__name:"ScriptCarbonAds",props:{serve:{type:String,required:!0},placement:{type:String,required:!0},format:{type:String,required:!0},trigger:{type:[String,Array,Boolean],required:!1}},emits:["error","ready"],setup(c,{emit:m}){const a=c,s=m,t=u(document.getElementById(d)),r=u("awaitingLoad");function i(){if(!t.value)return;r.value="loading";const e=document.createElement("script");e.setAttribute("src",A("https://cdn.carbonads.com/carbon.js",{serve:a.serve,placement:a.placement,format:a.format})),e.setAttribute("id",d),e.onerror=l=>{r.value!=="error"&&(r.value="error",s("error",l))},e.onload=()=>{r.value!=="loaded"&&(r.value="loaded",s("ready",e))},t.value.appendChild(e)}const o=E({trigger:a.trigger,el:t});g(()=>{o==="onNuxtReady"?i():o.then(i)});const p=f(()=>({...o instanceof Promise?o.ssrAttrs||{}:{}}));return v(()=>{t.value&&t.value.remove()}),(e,l)=>(b(),y("div",k({ref_key:"carbonadsEl",ref:t},p.value),[r.value==="awaitingLoad"?n(e.$slots,"awaitingLoad",{key:0}):r.value==="loading"?n(e.$slots,"loading",{key:1}):r.value==="error"?n(e.$slots,"error",{key:2}):S("",!0)],16))}};export{q as default};
